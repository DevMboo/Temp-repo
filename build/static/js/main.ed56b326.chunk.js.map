{"version":3,"sources":["components/PostCard/index.jsx","components/Posts/index.jsx","components/utils/load-posts.js","components/Button/index.jsx","components/TextInput/index.jsx","templates/Home/index.jsx","index.js"],"names":["PostCard","title","cover","body","id","className","src","alt","Posts","posts","map","post","loadPosts","a","postsResponse","fetch","photosResponse","Promise","all","photos","json","postsJson","photosJson","postsAndPhotos","index","url","Button","this","props","text","onClick","disabled","Component","TextInput","searchValue","handleChange","type","onChange","value","placeholder","Home","state","allPosts","page","postsPerPage","setState","slice","loadMorePosts","nextPage","nextPosts","console","log","push","e","target","noMorePosts","length","filteredPosts","filter","toLowerCase","includes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed56b326.chunk.js","sourcesContent":["export const PostCard = ({title, cover, body, id}) => (\r\n        <div className=\"post\">\r\n          <img src={cover} alt={title}/>\r\n          <div key={id} className='post-content'>\r\n            <h2 key={id}>{title} {id}</h2>\r\n            <p>{body}</p>\r\n           </div>\r\n        </div>\r\n)\r\n","import { PostCard } from \"../PostCard\"\r\nimport './styles.css'\r\n//uso de parenteses quando não houver lógica\r\nexport const Posts = ({posts}) => (\r\n    <div className=\"posts\">\r\n          {posts.map(post => (\r\n            <PostCard key={post.id} \r\n            id={post.id}\r\n            title={post.title}\r\n            body={post.body}\r\n            cover={post.cover}\r\n            />\r\n          ))}\r\n    </div>\r\n)","export const loadPosts = async () => {\r\n    const postsResponse = fetch('https://jsonplaceholder.typicode.com/posts')\r\n      const photosResponse = fetch('https://jsonplaceholder.typicode.com/photos')\r\n      const [posts, photos] = await Promise.all([postsResponse, photosResponse])\r\n      const postsJson = await posts.json()\r\n      const photosJson = await photos.json()\r\n      \r\n\r\n      //função zip para unir api de photos com de posts\r\n      const postsAndPhotos = postsJson.map((post, index) => {\r\n        return { ...post, cover: photosJson[index].url }\r\n      }) \r\n      return postsAndPhotos\r\n}","import { Component } from \"react\";\r\nimport './styles.css'\r\nexport class Button extends Component{\r\n    render(){\r\n        const {text, onClick, disabled} = this.props\r\n        return (\r\n            <button\r\n                disabled\r\n                className=\"button\" onClick={onClick}\r\n                disabled={disabled}    \r\n            >\r\n                {text}\r\n            </button>\r\n        )\r\n    }\r\n}","import './styles.css'\r\nexport const TextInput = ({searchValue, handleChange}) => {\r\n    return (\r\n        <input type=\"search\"\r\n        className=\"text-input\"\r\n          onChange={handleChange}\r\n          value={searchValue}\r\n          placeholder=\"Pesquisar...\"\r\n        />\r\n    )\r\n}","import './styles.css';\nimport { Component } from 'react'\nimport { Posts } from '../../components/Posts';\nimport { loadPosts } from '../../components/utils/load-posts';\nimport { Button } from '../../components/Button';\nimport { TextInput } from '../../components/TextInput';\n//import { PostCard } from './components/PostCard';\n\nclass Home extends Component {\n\n  state = {\n      posts: [],\n      allPosts: [],\n      page: 0,\n      postsPerPage: 10,\n      searchValue: '',\n    }\n\n\n  \n    //componente montado\n    async componentDidMount() {\n      await this.loadPosts()\n    }\n\n    loadPosts = async () => {\n      const { page, postsPerPage } = this.state\n      const postsAndPhotos = await loadPosts()\n      this.setState({ posts: postsAndPhotos.slice(page, postsPerPage),\n        allPosts: postsAndPhotos,\n      })\n\n    }\n\n    loadMorePosts = () => {\n      const {\n        page,\n        postsPerPage,\n        allPosts,\n        posts\n      } = this.state\n      const nextPage = page + postsPerPage\n      const nextPosts = allPosts.slice(nextPage, nextPage + postsPerPage)\n      console.log(page, postsPerPage, nextPage, nextPage + postsPerPage)\n      posts.push(...nextPosts)\n\n      this.setState({posts, page: nextPage})\n    }\n\n    handleChange = (e) => {\n      const { value } = e.target\n      this.setState({searchValue: value})\n    }\n\n\n  render(){\n    const { posts, page, postsPerPage, allPosts, searchValue } = this.state\n    const noMorePosts = page + postsPerPage >= allPosts.length\n    \n    const filteredPosts = !!searchValue ?\n     allPosts.filter(post => {\n       return post.title.toLowerCase().includes(\n         searchValue.toLowerCase()\n       )\n     }) : posts\n\n    return (\n      <section className=\"container\">\n        <div className=\"search-container\">\n        {!!searchValue && (\n          <>\n          <h1>O que está buscando: {searchValue}</h1><br/>\n          </>\n        )}\n\n          <TextInput searchValue={searchValue} handleChange={this.handleChange}/>\n        </div>\n        {filteredPosts.length > 0 && (\n          <Posts posts={filteredPosts}/>\n        )}\n\n        {filteredPosts.length === 0 && (\n          <p>Busca não encontrada, pesquise novamente</p>\n        )}\n\n        <div className=\"button-container\">\n          {!searchValue && (\n            <Button text=\"Load more posts\"\n              onClick={this.loadMorePosts}\n              disabled={noMorePosts}\n            />\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/global-styles.css';\nimport Home from './templates/Home';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Home />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}